"0","library(""shiny"")"
"0","library(""DT"")"
"2","
Attaching package: ．DT・

"
"2","The following objects are masked from ．package:shiny・:

    dataTableOutput, renderDataTable

"
"0","library(""quantmod"")"
"2","Loading required package: xts
"
"2","Loading required package: zoo
"
"2","
Attaching package: ．zoo・

"
"2","The following objects are masked from ．package:base・:

    as.Date, as.Date.numeric

"
"2","Loading required package: TTR
"
"2","Version 0.4-0 included new data defaults. See ?getSymbols.
Learn from a quantmod author: https://www.datacamp.com/courses/importing-and-managing-financial-data-in-r
"
"0","ui = shinyUI("
"0","    fluidPage("
"0","        titlePanel("" Hello, World! - Stock Market""),"
"0","  "
"0","        sidebarLayout("
"0","            sidebarPanel("
"0","                h2( ""Enter an abbreviation for name"" ),"
"0","                helpText(""The default is Dow Jones Industrial ""),"
"0","                helpText(""ex :  Dow Jones Industrial (^DJI), TSMC (2330.TW).""),"
"0","                textInput(""canpabbnm"", """", value = ""^DJI"" ),"
"0","                submitButton(""Submit"", icon(""refresh""), width = ""40%"")"
"0","            ),"
"0","            mainPanel("
"0","                tabsetPanel("
"0","                    tabPanel(""Plot"","
"0","                        br(),"
"0","                        plotOutput(""smplot"") "
"0","                    ),"
"0","                    tabPanel(""Data"","
"0","                        br(),"
"0","                        DT::dataTableOutput(""smtable"")"
"0","                    ),"
"0","                    tabPanel(""summary"","
"0","                        br(),"
"0","                        verbatimTextOutput(""smsumy"")"
"0","                    ),"
"0","                    tabPanel(""Output"","
"0","                        br(),"
"0","                        downloadButton('smdlcsv', 'Download')"
"0","                    )"
"0",""
"0","                )"
"0","            )"
"0","        )"
"0","    )"
"0",")"
"0","server = function(input, output) {"
"0","    # tem"
"0","    tmsp = reactiveValues()"
"0","      output$smplot = renderPlot({"
"0","        tmsp$temcanpabbnm = input$canpabbnm"
"0","        tmsp$temcanp = getSymbols( tmsp$temcanpabbnm, auto.assign=FALSE)"
"0","        chartSeries( tmsp$temcanp, theme = chartTheme(""white""))"
"0",""
"0","    })"
"0",""
"0","    output$smtable = DT::renderDataTable({"
"0","        tmsp$temcanpabbnm = input$canpabbnm"
"0","        tmsp$temcanpdf = as.data.frame(getSymbols( tmsp$temcanpabbnm, auto.assign=FALSE))"
"0","        DT::datatable(tmsp$temcanpdf , options = list(pageLength = 25))"
"0","    })"
"0",""
"0","    output$smsumy = renderPrint({"
"0","        tmsp$temcanpabbnm = input$canpabbnm"
"0","        tmsp$temcanpdf = as.data.frame(getSymbols( tmsp$temcanpabbnm, auto.assign=FALSE))"
"0","        summary(tmsp$temcanpdf)"
"0","    })"
"0","    output$smdlcsv = downloadHandler("
"0","        filename = function() { "
"0","            paste( ""sm"", '.csv', sep = '') "
"0","            tmsp$sdc = as.character(Sys.time())"
"0","            tmsp$sdc1t = gsub( "":"", "" "", tmsp$sdc)"
"0","            tmsp$sdc2t = gsub( ""-"", "" "", tmsp$sdc1t)"
"0","            tmsp$sdc3t = paste(strsplit( tmsp$sdc2t ,split = "" "", fixed = T)[[1]],collapse="""")"
"0","            paste( ""sm_"", tmsp$sdc3t, "".csv"", sep = '') "
"0",""
"0","        },"
"0","        content = function(file) {"
"0","            tmsp$temcanpabbnm = input$canpabbnm"
"0","            tmsp$temcanpdf = as.data.frame(getSymbols( tmsp$temcanpabbnm, auto.assign=FALSE))"
"0","            write.csv( tmsp$temcanpdf, file = file, quote = FALSE, sep = "","", row.names = FALSE)"
"0","        }"
"0","    )"
"0","}"
"0",""
"0","shinyApp(ui = ui, server = server)"
"2","
Listening on http://127.0.0.1:4630
"
"2","
"
